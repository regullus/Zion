@model PagedList.IPagedList<Core.Entities.ProdutoValor>
@using PagedList.Mvc;
@{
    #region Layout
    Layout = "~/Views/Shared/_Layout.cshtml";
    #endregion

    #region ViewBags
    var traducaoHelper = (Core.Helpers.TraducaoHelper)ViewBag.TraducaoHelper;

    ViewBag.Title = "Index";
    #endregion

    #region Variaveis

    var moedaPadrao = Core.Helpers.ConfiguracaoHelper.GetMoedaPadrao();

    #endregion
}

@section pageStyles {
   @Styles.Render("~/Content/table")
}

@section head {
}

@section pageScripts {
   @Scripts.Render("~/scripts/table")
}

@section PageLevelScripts {
}

@section jQueryRead {
}

<div class="portlet box grey-gallery">

   <div class="portlet-title">
      <div class="caption"><i class="fa fa-reorder"></i> @traducaoHelper["PRECO_PRODUTO"]</div>
      <div class="tools">
         <a href="javascript:;" class="collapse" title="@traducaoHelper["FECHAR"]" />
         @*<a href='@Url.Action("Reload", "ProdutoValores")' class="atualizar" title="@traducaoHelper["RELER"]" />*@
      </div>
      <div class="actions">
         <a href='@Url.Action("Create", "ProdutoValores", new {@id = 0})' class="btn green-meadow">
            <i class="fa fa-plus"></i> @traducaoHelper["NOVO"]
         </a>
         @*<a href='@Url.Action("Excel", "ProdutoValores")' class="btn btn-sm yellow-casablanca">
            <i class="fa fa-file-excel-o"></i> Excel
         </a>*@
         <label>&nbsp;</label>
      </div>
   </div>

   <div class="portlet-body">

      <div class="table-toolbar">
         <div class="row">
            <div class="col-md-4">
               <div class="form-group">
                  <div class="input-group">
                     @using (Html.BeginForm("Index", "ProdutoValores", FormMethod.Get))
                     {
                        @Html.DropDownList("NumeroPaginas", null, htmlAttributes: new { @class = "form-control input-small input-inline marginB05" })
                        <input class="btn purple form-control input-small input-inline fontPlaceHolderIcon" id="Atualizar" name="Atualizar" value="&#xf021; @traducaoHelper["ATUALIZAR"]" type="submit" />
                     }
                  </div>
               </div>
            </div>
            <div class="col-md-8">
               @using (Html.BeginForm("Index", "ProdutoValores", FormMethod.Get))
               {
                  <div class="form-group pull-right">
                     <div class="input-group">
                        @Html.TextBox("ProcuraSKU", ViewBag.CurrentProcuraSKU as string, new { @class = "form-control input-small input-inline fontPlaceHolderIcon marginB05", @placeholder = "SKU" })
                        @Html.TextBox("ProcuraNome", ViewBag.CurrentProcuraNome as string, new { @class = "form-control input-small input-inline fontPlaceHolderIcon marginB05", @placeholder = traducaoHelper["NOME"] })
                        <input class="btn blue-madison form-control input-small input-inline fontPlaceHolderIcon" id="Procura" name="Procura" value="&#xf002; @traducaoHelper["PROCURAR"]" type="submit" />
                     </div>
                  </div>
               }
            </div>
         </div>
         <div class="row">
            <div class="col-md-10">
               @Html.PagedListPager(Model, page => Url.Action("Index", new { page, SortOrder = ViewBag.CurrentSort, ProcuraSKU = ViewBag.CurrentProcuraSKU, CurrentProcuraNome = ViewBag.CurrentProcuraNome, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize }))
            </div>
            <div class="col-md-2">
               <label class="pull-right">@traducaoHelper["PAG"] @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) @traducaoHelper["DE"] @Model.PageCount &nbsp;</label>
            </div>
         </div>
      </div>

      <div class="table-scrollable">
         <table class="table table-striped table-bordered table-hover">
            <thead>
               <tr>
                  <th scope="col" style="min-width:80px; width:80px;">&nbsp;@traducaoHelper["ACOES"]&nbsp;</th>
                  <th scope="col">
                     @Html.ActionLink("SKU", "Index", new { SortOrder = ViewBag.FirstSortParm, CurrentProcuraSKU = ViewBag.CurrentProcuraSKU, CurrentProcuraNome = ViewBag.CurrentProcuraNome, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize })
                     @switch ((string)ViewBag.CurrentSort.ToString())
                     {
                        case "SKU":
                           {<i class="fa fa-chevron-down"></i>}
                           break;
                        case "SKU_desc":
                           {<i class="fa fa-chevron-up"></i>}
                           break;
                     }
                  </th>

                  <th scope="col">
                     @Html.ActionLink(traducaoHelper["NOME"], "Index", new { SortOrder = ViewBag.FirstSortParm, CurrentProcuraSKU = ViewBag.CurrentProcuraSKU, CurrentProcuraNome = ViewBag.CurrentProcuraNome, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize })
                     @switch ((string)ViewBag.CurrentSort.ToString())
                     {
                        case "Nome":
                           {<i class="fa fa-chevron-down"></i>}
                           break;
                        case "Nome_desc":
                           {<i class="fa fa-chevron-up"></i>}
                           break;
                     }
                  </th>
                  @*<th scope="col">@traducaoHelper["ContaIDs"]</th>
                  <th scope="col">@traducaoHelper["AssociacaoIDs"]</th>
                  <th scope="col">@traducaoHelper["ClassificacaoIDs"]</th>
                  <th scope="col">@traducaoHelper["BlocoIDs"]</th>
                  <th scope="col">@traducaoHelper["PaisIDs"]</th>*@
                  <th scope="col">@traducaoHelper["VALOR"]</th>
                  <th scope="col">@traducaoHelper["BONIFICACAO"]</th>
                  <th scope="col">@traducaoHelper["BONUS_VENDA"]</th>    
                  <th scope="col">@traducaoHelper["BONUS_VENDA_ADCIONAL"]</th>                          
               </tr>
            </thead>
            <tfoot>
               <tr>
                  <th scope="col" style="min-width:80px; width:80px;">&nbsp;@traducaoHelper["ACOES"]&nbsp;</th>
                  <th scope="col">
                     @Html.ActionLink("SKU", "Index", new { SortOrder = ViewBag.FirstSortParm, CurrentProcuraSKU = ViewBag.CurrentProcuraSKU, CurrentProcuraNome = ViewBag.CurrentProcuraNome, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize })
                     @switch ((string)ViewBag.CurrentSort.ToString())
                     {
                        case "SKU":
                           {<i class="fa fa-chevron-down"></i>}
                           break;
                        case "SKU_desc":
                           {<i class="fa fa-chevron-up"></i>}
                           break;
                     }
                  </th>

                  <th scope="col">
                     @Html.ActionLink(traducaoHelper["NOME"], "Index", new { SortOrder = ViewBag.FirstSortParm, CurrentProcuraSKU = ViewBag.CurrentProcuraSKU, CurrentProcuraNome = ViewBag.CurrentProcuraNome, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize })
                     @switch ((string)ViewBag.CurrentSort.ToString())
                     {
                        case "Nome":
                           {<i class="fa fa-chevron-down"></i>}
                           break;
                        case "Nome_desc":
                           {<i class="fa fa-chevron-up"></i>}
                           break;
                     }
                  </th>
                  @*<th scope="col">@traducaoHelper["ContaIDs"]</th>
                  <th scope="col">@traducaoHelper["AssociacaoIDs"]</th>
                  <th scope="col">@traducaoHelper["ClassificacaoIDs"]</th>
                  <th scope="col">@traducaoHelper["BlocoIDs"]</th>
                  <th scope="col">@traducaoHelper["PaisIDs"]</th>*@
                  <th scope="col">@traducaoHelper["VALOR"]</th>
                  <th scope="col">@traducaoHelper["BONIFICACAO"]</th>
                  <th scope="col">@traducaoHelper["BONUS_VENDA"]</th>    
                  <th scope="col">@traducaoHelper["BONUS_VENDA_ADCIONAL"]</th>       
               </tr>
            </tfoot>
            <tbody>
               @foreach (var item in Model)
               {
                  <tr>
                     <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.ID }, new { @class = "gridEdit", title = traducaoHelper["EDITAR"] })
                        @Html.ActionLink("Details", "Details", new { id = item.ID }, new { @class = "gridDetail", title = traducaoHelper["DETALHES"] })
                        @Html.ActionLink("Delete", "Delete", new { id = item.ID }, new { @class = "gridDelete", title = traducaoHelper["EXCLUIR"] })
                     </td>

                     <td>
                        @Html.DisplayFor(modelItem => item.Produto.SKU)
                     </td>
                     <td>
                        @Html.DisplayFor(modelItem => item.Produto.Nome)
                     </td>
          
                     <td class="text">@moedaPadrao.Simbolo @item.Valor.Value.ToString(moedaPadrao.MascaraOut)</td>
                     <td class="text">@moedaPadrao.Simbolo @item.Bonificacao.Value.ToString(moedaPadrao.MascaraOut)</td>
                     <td class="text">@moedaPadrao.Simbolo @item.VlrBonusVenda.Value.ToString(moedaPadrao.MascaraOut)</td>
                     <td class="text">@moedaPadrao.Simbolo @item.VlrBonusAdicionalVenda.Value.ToString(moedaPadrao.MascaraOut)</td>                   
                  </tr>
               }
            </tbody>
         </table>
      </div>

      <div class="row">
         <div class="border-gridFooter">
            <div class="col-md-10">
               @Html.PagedListPager(Model, page => Url.Action("Index", new { page, SortOrder = ViewBag.CurrentSort, CurrentProcuraSKU = ViewBag.CurrentProcuraSKU, CurrentProcuraNome = ViewBag.CurrentProcuraNome, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize }))
            </div>
            <div class="col-md-2">
               <label class="pull-right">@traducaoHelper["PAG"]  @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) @traducaoHelper["DE"]  @Model.PageCount &nbsp;</label>
            </div>
         </div>
      </div>

   </div>


</div>
