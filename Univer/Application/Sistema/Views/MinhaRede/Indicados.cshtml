@model PagedList.IPagedList<Core.Models.TabuleiroIndicados>
@using PagedList.Mvc;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var traducaoHelper = (Core.Helpers.TraducaoHelper)ViewBag.TraducaoHelper;
    ViewBag.Title = traducaoHelper["INDICADOS"];

}
@section pageStyles {
    <link rel="stylesheet" href="~/Content/global/plugins/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700,900" rel="stylesheet" />
    <link rel="stylesheet" href="~/Content/home/styles.css">
}
@section head {}
@section pageScripts {

}

@section PageLevelScripts{
    <script type="text/javascript" src="~/Content/scripts/jquery.min.js"></script>
    <script type="text/javascript" src="~/Content/scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/Content/scripts/countUp.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/Content/global/plugins/jquery.pulsate.min.js" type="text/javascript"></script>
    <script src="~/Content/global/plugins/jquery-bootpag/jquery.bootpag.min.js" type="text/javascript"></script>
    <script src="~/Content/pages/scripts/ui-general.min.js" type="text/javascript"></script>
}

@section jQueryRead {}

<!-- Header -->
<div class="portlet solid grey-cararra" style="max-width: 1600px;">
    <div class="portlet-body">
        <div class="page-head">
            <!-- BEGIN PAGE TITLE -->
            <div class="row">
                <div class="column col-md-6">
                    <div class="page-title">
                        <h2>@(ViewBag.Title) <small class="titleSmall"></small></h2>
                    </div>
                </div>
                <div class="column col-md-6">
                    <div class="page-title pull-right divReloadPage" style="padding: 10px;">
                        <a href="@Url.Action("indicados", "minha-rede")" class="btn btn-info reloadPage">@traducaoHelper["RELOAD"]</a>
                    </div>
                </div>
            </div>
            <!-- END PAGE TITLE -->
        </div>
        <ul class="page-breadcrumb breadcrumb">
            <li>
                <a href="@Url.Action("Index", "Home")">home</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="">@ViewBag.Title</a>
            </li>
            <li>
                <a href="" class="txtTitle"></a>
            </li>
        </ul>
    </div>
</div>

<div class="portlet box grey-gallery" style="max-width: 1600px;">
    <div class="portlet-body">

        <div class="table-toolbar">
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <div class="input-group">
                            @using (Html.BeginForm("indicados", "minha-rede", FormMethod.Get))
                            {
                                @Html.DropDownList("NumeroPaginas", null, htmlAttributes: new { @class = "form-control input-small input-inline marginB05" })
                                <input class="btn purple form-control input-small input-inline fontPlaceHolderIcon" id="Reload" name="Reload" value="&#xf021; @traducaoHelper["ATUALIZAR"]" type="submit" />
                            }
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    @using (Html.BeginForm("indicados", "minha-rede", FormMethod.Get))
                    {
                        <div class="form-group pull-right">
                            <div class="input-group">
                                @Html.TextBox("ProcuraLogin", ViewBag.CurrentProcuraLogin as string, new { @class = "form-control input-small input-inline fontPlaceHolderIcon marginB05", @placeholder = traducaoHelper["APELIDO"] })
                                @Html.TextBox("ProcuraGalaxia", ViewBag.CurrentProcuraGalaxia as string, new { @class = "form-control input-small input-inline fontPlaceHolderIcon marginB05", @placeholder = traducaoHelper["GALAXIA"] })
                                <input class="btn btn-info form-control input-small input-inline fontPlaceHolderIcon" id="Procura" name="Procura" value="&#xf002; @traducaoHelper["PROCURAR"]" type="submit" />
                            </div>
                        </div>
                    }
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    @Html.PagedListPager(Model, page => Url.Action("indicados", "minha-rede", new { page, SortOrder = ViewBag.CurrentSort, CurrentProcuraLogin = ViewBag.CurrentProcuraLogin, CurrentProcuraGalaxia = ViewBag.CurrentProcuraGalaxia, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize }))
                </div>
                <div class="col-md-2">
                    <label class="pull-right">@traducaoHelper["PAG"] @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) @traducaoHelper["DE"] @Model.PageCount &nbsp;</label>
                </div>
            </div>
        </div>

        <div class="table-scrollable">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th scope="col" style="min-width:50px; width:50px;">&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th scope="col">@traducaoHelper["GALAXIA"]</th>
                        <th scope="col">@traducaoHelper["POSICAO"]</th>
                        <th scope="col">@traducaoHelper["APELIDO"]</th>
                        <th scope="col">@traducaoHelper["NOME"]</th>
                        <th scope="col">@traducaoHelper["CELULAR"]</th>
                        <th scope="col">@traducaoHelper["ALVO"]</th>
                        <th scope="col">@traducaoHelper["INDICADOS"]</th>
                        <th scope="col">@traducaoHelper["PAGAMENTO_INFORME_ALVO"]</th>
                        <th scope="col">@traducaoHelper["ALVO_PAGO"]</th>
                        <th scope="col">@traducaoHelper["PAGAMENTO_INFORME_SISTEMA"]</th>
                        <th scope="col">@traducaoHelper["SISTEMA_PAGO"]</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th scope="col" style="min-width:50px; width:50px;">&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th scope="col">@traducaoHelper["GALAXIA"]</th>
                        <th scope="col">@traducaoHelper["POSICAO"]</th>
                        <th scope="col">@traducaoHelper["APELIDO"]</th>
                        <th scope="col">@traducaoHelper["NOME"]</th>
                        <th scope="col">@traducaoHelper["CELULAR"]</th>
                        <th scope="col">@traducaoHelper["ALVO"]</th>
                        <th scope="col">@traducaoHelper["INDICADOS"]</th>
                        <th scope="col">@traducaoHelper["PAGAMENTO_INFORME_ALVO"]</th>
                        <th scope="col">@traducaoHelper["ALVO_PAGO"]</th>
                        <th scope="col">@traducaoHelper["PAGAMENTO_INFORME_SISTEMA"]</th>
                        <th scope="col">@traducaoHelper["SISTEMA_PAGO"]</th>
                    </tr>
                </tfoot>
                <tbody>
                    @foreach (var item in Model)
                    {
                        string celLimpo = item.Celular.Replace("(", "").Replace(")", "").Replace("-", "").Replace(" ", "").Replace("+","");
                        <tr>
                            <td>
                                <img src='@Url.Content("~/Content/img/" + Helpers.Local.Sistema + "/Pins/" + item.BoardID + ".png?v=" + @Helpers.Local.Versao)' style="width: 40px;">
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Galaxia)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => traducaoHelper[item.Posicao])
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Apelido)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Nome)
                            </td>
                            <td>
                                @(item.Celular) <a class="whatsapp-link" href='https://api.whatsapp.com/send?phone=@(celLimpo)' target="_blank"><i class="fa fa-whatsapp"></i></a>
                                @*<a href="sms:+@(celLimpo)"><i class="fa fa-mobile-phone"></i></a>*@
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Master)
                            </td>
                            <td>
                                @if (item.usuarioOK)
                                {
                                    <i class="fa fa-check font-green"></i>
                                }
                                else
                                {
                                    <i class="fa fa-close font-red"></i>
                                }
                            </td>
                            <td>
                                @if (item.InformePag)
                                {
                                    <i class="fa fa-check font-green"></i>
                                }
                                else
                                {
                                    <i class="fa fa-close font-red"></i>
                                }
                            </td>
                            <td>
                                @if (item.PagoMaster)
                                {
                                    <i class="fa fa-check font-green"></i>
                                }
                                else
                                {
                                    <i class="fa fa-close font-red"></i>
                                }
                            </td>
                            <td>
                                @if (item.InformePagSistema)
                                {
                                    <i class="fa fa-check font-green"></i>
                                }
                                else
                                {
                                    <i class="fa fa-minus font-blue"></i>
                                }
                            </td>
                            <td>
                                @if (item.PagoSistema)
                                {
                                    <i class="fa fa-check font-green"></i>
                                }
                                else
                                {
                                    <i class="fa fa-minus font-blue"></i>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="border-gridFooter">
                <div class="col-md-10">
                    @Html.PagedListPager(Model, page => Url.Action("indicados", "minha-rede", new { page, SortOrder = ViewBag.CurrentSort, CurrentProcuraLogin = ViewBag.CurrentProcuraLogin, CurrentProcuraGalaxia = ViewBag.CurrentProcuraGalaxia, NumeroPaginas = ViewBag.CurrentNumeroPaginas, PageSize = ViewBag.PageSize }))
                </div>
                <div class="col-md-2">
                    <label class="pull-right">@traducaoHelper["PAG"]  @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) @traducaoHelper["DE"]  @Model.PageCount &nbsp;</label>
                </div>
            </div>
        </div>

    </div>
</div>
