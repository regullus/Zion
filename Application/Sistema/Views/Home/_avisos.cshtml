@model List<Core.Models.StoredProcedures.spOC_US_ObtemAvisoNaoLidos>

@{ 
    var traducaoHelper = (Core.Helpers.TraducaoHelper)ViewBag.TraducaoHelper;
}

@if (Model != null && Model.Any())
{
    <div id="aviso-modal" class="modal" data-easein="tada" data-easeout="rollOut" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel">@traducaoHelper["AVISOS_NAO_LIDOS"]</h4>
                </div>
                <div class="modal-body">

                    @{
                        var limit = 3;
                        var list = Model.Take(limit);
                        var rest = Model.Count - limit;
                    }

                    <ul>
                        @foreach (var aviso in list)
                        {
                            <li>
                                <a href="@(Core.Helpers.ConfiguracaoHelper.GetString("DOMINIO") + "/avisos/ler/@aviso.ID/?avisoLido=0")" title="@aviso.Titulo">@aviso.Titulo</a>
                            </li>
                        }
                    </ul>

                    @{
                        if (rest > 0)
                        {
                            <p style="padding-left:20px">@string.Format(traducaoHelper["AVISOS_NAO_LIDOS_COUNT"], rest).</p>
                        }
                    }

                </div>
                <div class="modal-footer">
                    <a style="text-align:right" href="@(Core.Helpers.ConfiguracaoHelper.GetString("DOMINIO") + "/avisos")" class="btn btn-primary " role="button" title="@traducaoHelper["LER_TODOS"]">@traducaoHelper["LER_TODOS"]</a>
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">

        $(function () {
            $('#aviso-modal').modal();
        });

    </script>

}